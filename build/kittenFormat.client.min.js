!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).kittenFormat=r()}(this,function(){"use strict";function e(e){return null==e||"string"!=typeof e?e:e.toLowerCase()}var r={};r.lowerCase=e,r.upperCase=function(e){return null==e||"string"!=typeof e?e:e.toUpperCase()},r.upperCaseFirstChar=function(r){return null!=r&&"string"==typeof r&&r.length?r[0].toUpperCase()+e(r.slice(1,r.length)):r};var n={default:{locale:"fr-FR",currency:"EUR",currencySymbol:"€",precision:2,unitPrefixes:{15:{default:"P",g:"GT"},12:{default:"T",g:"MT"},9:{default:"G",g:"kT"},6:{default:"M",g:"T"},3:"k",0:"","-3":"m","-6":"μ","-9":"n"},thousandSeparator:" ",decimalSeparator:","}};function t(e){n.default=e}function u(e){return n[e]?n[e]:n.default}function a(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var n=u((r=r||{}).locale),t=r.source||n.currency,a=r.target,o=r.rates;return!a||!o||o&&!o[t]||o&&!o[a]?e:e/o[t]*o[a]}var o={};function i(e,r){var n=e+":"+Object.values(r).join(":");return o[n]||(o[n]=new Intl.NumberFormat(e,r)),o[n]}function l(e,r){let n=function(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var n=u((r=r||{}).locale),t=r.precision||n.precision,o=r.currency||r.source||n.currency,i=r.locale||n.locale;return r.target&&r.rates&&r.rates[r.target]&&(r.source=o,o=r.target,e=a(e,r)),{locale:i,currency:o,precision:t,value:e}}(e,r);return null==n||"object"!=typeof n?n:(n.precision<2&&(n.precision=2),i(n.locale,{style:"currency",currency:n.currency,minimumFractionDigits:n.precision}).format(n.value))}function c(e,r){let n=function(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var n=u((r=r||{}).locale),t=r.precision||n.precision;return{locale:r.locale||n.locale,precision:t}}(e,r);return null==n||"object"!=typeof n?n:(Object.assign(n,r),n.maximumFractionDigits=n.precision,i(n.locale,n).format(e))}function f(e,r){let n=function(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var n=null===(r=r||{}).power||void 0===r.power?0:r.power,t=r.unit;if(!t)return e;var a=e,o=0,i=null;if(e>=1){var l=(e+"").split(".")[0].length;o=3*Math.trunc(l/3),null!==r.maxPower&&void 0!==r.maxPower&&o+n>r.maxPower&&(i=r.maxPower-n),a=e*Math.pow(10,-(null!==i?i:o))}a<1&&(a*=Math.pow(10,3),-0==(n-=3)&&(n=0));var c=u(r.locale).unitPrefixes[(null!==i?i:o)+n];return void 0===c?c="10^"+(o+n)+t:"string"!=typeof c?c=c[t]||c.default:c+=t,{value:a,unit:c}}(e,r);return null==n||"object"!=typeof n?n:(e=c(n.value,r))+" "+n.unit}return r.setOptions=t,r.setOption=function(e,r){n.default[e]=r},r.locale=function(e){if(e){n[e.locale]=e;var r=function(){var e=null;e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language;var r={en:"en-GB",fr:"fr-FR"};return r[e]&&(e=r[e]),e}();r!==n.default.locale&&n[r]&&t(n[r])}},r.formatC=l,r.formatCurrency=l,r.convC=a,r.convertCurrency=a,r.formatN=c,r.formatNumber=c,r.percent=function(e,r){let n=function(e){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var r=100*e;return e>1&&(r=e),{value:r}}(e);return null==n||"object"!=typeof n?n:c(n.value,r)+"%"},r.averageN=f,r.averageNumber=f,r});
