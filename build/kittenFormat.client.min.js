!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r=r||self).kittenFormat=e()}(this,function(){"use strict";function r(r){return null==r||"string"!=typeof r?r:r.toLowerCase()}var e={};e.lowerCase=r,e.upperCase=function(r){return null==r||"string"!=typeof r?r:r.toUpperCase()},e.upperCaseFirstChar=function(e){return null!=e&&"string"==typeof e&&e.length?e[0].toUpperCase()+r(e.slice(1,e.length)):e};var n={default:{locale:"fr-FR",currency:"EUR",precision:2,unitPrefixes:{15:{default:"P",g:"GT"},12:{default:"T",g:"MT"},9:{default:"G",g:"kT"},6:{default:"M",g:"T"},3:"k",0:"","-3":"m","-6":"Î¼","-9":"n"}}};function t(r){n.default=r}function a(r){return n[r]?n[r]:n.default}var u={};function o(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=a((e=e||{}).locale),t=e.precision||n.precision,o=e.currency||e.source||n.currency,l=e.locale||n.locale;return e.target&&e.rates&&e.rates[e.target]&&(e.source=o,o=e.target,r=i(r,e)),function(r,e,n){n<2&&(n=2);var t=r+":"+e+":"+n;return u[t]||(u[t]=new Intl.NumberFormat(r,{minimumFractionDigits:n,currency:e,style:"currency"})),u[t]}(l,o,t).format(r)}function i(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=a((e=e||{}).locale),t=e.source||n.currency,u=e.target,o=e.rates;return!u||!o||o&&!o[t]||o&&!o[u]?r:r/o[t]*o[u]}var l={};function f(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n,t,u,o=a((e=e||{}).locale),i=e.precision||o.precision,f=e.locale||o.locale;return(n=f,t=i,u=n+":"+t,l[u]||(l[u]=new Intl.NumberFormat(n,{maximumFractionDigits:t})),l[u]).format(r)}function c(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=null===(e=e||{}).power||void 0===e.power?0:e.power,t=e.unit;if(!t)return r;var u=r,o=0,i=null;if(r>=1){var l=(r+"").split(".")[0].length;o=3*Math.trunc(l/3),null!==e.maxPower&&void 0!==e.maxPower&&o+n>e.maxPower&&(i=e.maxPower-n),u=r*Math.pow(10,-(null!==i?i:o))}u<1&&(u*=Math.pow(10,3),-0===(n-=3)&&(n=0));var c=a(e.locale).unitPrefixes,s=f(u,e),g=c[(null!==i?i:o)+n];return void 0===g?g="10^"+(o+n)+t:"string"!=typeof g?g=g[t]||g.default:g+=t,s+" "+g}return e.setOptions=t,e.setOption=function(r,e){n.default[r]=e},e.locale=function(r){if(r){n[r.locale]=r;var e=function(){var r=null;r=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language;var e={en:"en-GB",fr:"fr-FR"};return e[r]&&(r=e[r]),r}();e!==n.default.locale&&n[e]&&t(n[e])}},e.averageN=c,e.averageNumber=c,e.formatC=o,e.formatCurrency=o,e.convC=i,e.convertCurrency=i,e.formatN=f,e.formatNumber=f,e.percent=function(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=100*r;return r>1&&(n=r),f(n,e)+"%"},e});
