!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r=r||self).kittenFormat=e()}(this,function(){"use strict";var r={default:{locale:"fr-FR",currency:"EUR",precision:2,unitPrefixes:{15:{default:"P",g:"GT"},12:{default:"T",g:"MT"},9:{default:"G",g:"kT"},6:{default:"M",g:"T"},3:"k",0:"","-3":"m","-6":"Î¼","-9":"n"}}};function e(e){r.default=e}function t(e){return r[e]?r[e]:r.default}var n={};function a(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var a,u,o,i=t((e=e||{}).locale),l=e.precision||i.precision,f=e.locale||i.locale;return(a=f,u=l,o=a+":"+u,n[o]||(n[o]=new Intl.NumberFormat(a,{maximumFractionDigits:u})),n[o]).format(r)}function u(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=null===(e=e||{}).power||void 0===e.power?0:e.power,u=e.unit;if(!u)return r;var o=r,i=0,l=null;if(r>=1){var f=(r+"").split(".")[0].length;i=3*Math.trunc(f/3),null!==e.maxPower&&void 0!==e.maxPower&&i+n>e.maxPower&&(l=e.maxPower-n),o=r*Math.pow(10,-(null!==l?l:i))}o<1&&(o*=Math.pow(10,3),-0===(n-=3)&&(n=0));var c=t(e.locale).unitPrefixes,s=a(o,e),g=c[(null!==l?l:i)+n];return void 0===g?g="10^"+(i+n)+u:"string"!=typeof g?g=g[u]||g.default:g+=u,s+" "+g}function o(r){return null==r||"string"!=typeof r?r:r.toLowerCase()}var i={};i.setOptions=e,i.setOption=function(e,t){r.default[e]=t},i.locale=function(t){if(t){r[t.locale]=t;var n=function(){var r=null;r=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language;var e={en:"en-GB",fr:"fr-FR"};return e[r]&&(r=e[r]),r}();n!==r.default.locale&&r[n]&&e(r[n])}},i.averageN=u,i.averageNumber=u,i.lowerCase=o,i.upperCase=function(r){return null==r||"string"!=typeof r?r:r.toUpperCase()},i.upperCaseFirstChar=function(r){return null!=r&&"string"==typeof r&&r.length?r[0].toUpperCase()+o(r.slice(1,r.length)):r};var l={};function f(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=t((e=e||{}).locale),a=e.precision||n.precision,u=e.currency||e.source||n.currency,o=e.locale||n.locale;return e.target&&e.rates&&e.rates[e.target]&&(e.source=u,u=e.target,r=c(r,e)),function(r,e,t){t<2&&(t=2);var n=r+":"+e+":"+t;return l[n]||(l[n]=new Intl.NumberFormat(r,{maximumFractionDigits:t,currency:e,style:"currency"})),l[n]}(o,u,a).format(r)}function c(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var n=t((e=e||{}).locale),a=e.source||n.currency,u=e.target,o=e.rates;return!u||!o||o&&!o[a]||o&&!o[u]?r:r/o[a]*o[u]}return i.formatC=f,i.formatCurrency=f,i.convC=c,i.convertCurrency=c,i.formatN=a,i.formatNumber=a,i.percent=function(r,e){if(null==r)return r;if("string"==typeof r&&isNaN(r))return"-";var t=100*r;return r>1&&(t=r),a(t,e)+"%"},i});
