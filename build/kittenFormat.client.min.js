!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).kittenFormat=r()}(this,function(){"use strict";function e(e){return null==e||"string"!=typeof e?e:e.toLowerCase()}var r={EUR:"€",GBP:"£",CHF:"CHF",USD:"$",AED:"AED",SAR:"SAR",XPF:"XPF"},t={locale:"fr-FR",currency:"EUR",currencySymbol:r.EUR,precision:2,unitPrefixes:{15:{default:"P",g:"GT"},12:{default:"T",g:"MT"},9:{default:"G",g:"kT"},6:{default:"M",g:"T"},3:"k",0:"","-3":"m","-6":"μ","-9":"n"},thousandSeparator:" ",decimalSeparator:","},n={default:t};function i(e){e&&(n.default=e)}function u(e){return n[e]?n[e]:n.default}function o(e,r,t){e=u(e);let n=(r+="").split("."),i=n[0],o=n[1]||"",l=e.thousandSeparator||" ",a=0,c="";"0"!==o[o.length-1]&&!0!==t.shouldNotRound&&(o=function(e,r){var t=Math.pow(10,r);return Math.round(e*t)/t}(Number("0."+o,10),null!=t.maximumFractionDigits?t.maximumFractionDigits:e.precision)+"",1===Number(o)&&(i=Number(i)+1+""),o=o.slice(2));for(let e=i.length-1;e>=0;e--)c=i[e]+c,3===++a&&e-1>=0&&(c=l+c,a=0);if(null!=t.minimumFractionDigits)for(o+="";o.length<t.minimumFractionDigits;o+="0");return!0===t.shouldNotRound&&(o=o.slice(0,null!=t.maximumFractionDigits?t.maximumFractionDigits:o.length)),o.length&&(c+=e.decimalSeparator+o),"currency"===t.style&&(!0===e.isCurrencyFirst?c=(t.unitPrefix||"")+e.currencySymbol+c:c+=" "+(t.unitPrefix||"")+e.currencySymbol),c}function l(e,r){let t=function(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var t=u((r=r||{}).locale),n=r.precision;r.shouldNotRound||null!=n||(n=t.precision);return{locale:r.locale||t.locale,precision:n}}(e,r);return null==t||"object"!=typeof t?t:((r=r||{}).maximumFractionDigits=t.precision,o(t.locale,e,r))}function a(e,r){let t=c(e,r);return null==t||"object"!=typeof t?t:(r=r||{},(e=l(t.value,r))+" "+t.unit)}function c(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var t=null===(r=r||{}).power||void 0===r.power?0:r.power,n=r.unit;if(null==n)return e;var i=e,o=0,l=null;if(e>=1){var a=(e+"").split(".")[0].length;o=3*Math.trunc(a/3),null!==r.maxPower&&void 0!==r.maxPower&&o+t>r.maxPower&&(l=r.maxPower-t),i=e*Math.pow(10,-(null!==l?l:o))}i<1&&0!==i&&(i*=Math.pow(10,3),-0===(t-=3)&&(t=0));var c=u(r.locale).unitPrefixes[(null!==l?l:o)+t];return void 0===c?c="10^"+(o+t)+n:"string"!=typeof c?c=c[n]||c.default:c+=n,{value:i,unit:c}}function s(e,r){let t=f(e,r);return null==t||"object"!=typeof t?t:(t.precision<2&&(t.precision=2),t.style="currency",t.minimumFractionDigits=t.precision,null==t.minimumFractionDigits&&(t.minimumFractionDigits=t.locale.precision),t.maximumFractionDigits=t.minimumFractionDigits,o(t.locale,t.value,t))}function f(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var t=u((r=r||{}).locale),n=r.shouldNotRound?r.precision:r.precision||t.precision,i=r.currency||r.source||t.currency,o=r.locale||t.locale;return r.target&&r.rates&&r.rates[r.target]&&(r.source=i,i=r.target,e=m(e,r)),{locale:o,currency:i,precision:n,value:e,shouldNotRound:r.shouldNotRound}}function m(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var t=u((r=r||{}).locale),n=r.source||t.currency,i=r.target,o=r.rates;return!i||!o||o&&!o[n]||o&&!o[i]?e:e/o[n]*o[i]}function p(e,r){r||(r={}),r.unit="",r.maxPower=3;const t=c(e,r);let n=f(e,r);return null==n||"object"!=typeof n?n:(n.unitPrefix=t.unit,n.style="currency",o(n.locale,t.value,n))}const y={};return y.setOptions=i,y.setOption=function(e,i){null!=e&&("currency"===e&&(n.default.currencySymbol=r[i]||t.currencySymbol),n.default[e]=i)},y.locale=function(e){e&&(n[e.locale]=e,i(n[e.locale]))},y.lowerCase=e,y.upperCase=function(e){return null==e||"string"!=typeof e?e:e.toUpperCase()},y.upperCaseFirstChar=function(r){return null!=r&&"string"==typeof r&&r.length?r[0].toUpperCase()+e(r.slice(1,r.length)):r},y.formatN=l,y.formatNumber=l,y.percent=function(e,r){let t=function(e,r){if(null==e)return e;if("string"==typeof e&&isNaN(e))return"-";var t=100*e;return r&&r.isAlreadyPercentageNumber&&(t=e),{value:t}}(e,r);return null==t||"object"!=typeof t?t:l(t.value,r)+"%"},y.averageN=a,y.averageNumber=a,y.formatC=s,y.formatCurrency=s,y.convC=m,y.convertCurrency=m,y.averageC=p,y.averageCurrency=p,y});
